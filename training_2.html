<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Training 2: Setting up Data Structures</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css\custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "Óâô";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">MPSI Data Training</a>
</li>
<li>
  <a href="training_0.html">Project Management</a>
</li>
<li>
  <a href="training_1.html">Training 1</a>
</li>
<li>
  <a href="training_2.html">Training 2</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Training 2: Setting up Data Structures</h1>

</div>


<p><br></p>
<p>This training module continues thinking about how to set up systems for a successful project before you ever collect your data. Talk about IRB</p>
<hr />
<div id="style-guide" class="section level2">
<h2>Style Guide</h2>
<hr />
<div id="variable-naming" class="section level3">
<h3>Variable Naming</h3>
<p>Variable naming protocol should be created early in the project. You will need this protocol in place to start creating your data dictionary.</p>
<p>There are many best practices and considerations around variable naming.</p>
<ul>
<li>Have you used the question/scale before?
<ul>
<li>If yes, keep the variable name the same across projects</li>
<li>If the variable name is <em>star_math_ss</em> in one project, name it the the same in your other projects</li>
</ul></li>
<li>Names should be meaningful but concise
<ul>
<li>Ex: SPSS cannot handle variable names over 64 characters</li>
<li>Ex: <em>q1</em> is not a meaningful variable name</li>
</ul></li>
<li>If you are using scales in a survey, a typical variable naming convention is <em>AbbreviatedScaleName#</em>
<ul>
<li>Ex: <em>scale1</em>, <em>scale2</em>, <em>scale3</em></li>
</ul></li>
<li>Be consistent with capitalization across ALL variables
<ul>
<li>Ex: using only lowercase, or always capitalize in the same place</li>
</ul></li>
<li>Don‚Äôt use spaces or special characters (including periods) in variable names</li>
<li>Be consistent with delimiters (Ex: use camel case or snake case)
<ul>
<li>Camel case (<em>ScaleSum</em>)</li>
<li>Snake case (<em>scale_sum</em>)‚Äìpreferred method</li>
</ul></li>
<li>Make sure all variable names are unique
<ul>
<li>If you are collecting the same information in more than one place, how will you differentiate?
<ul>
<li>Ex: Student gender collected from student survey vs.¬†student gender collected from district records
<ul>
<li>Consider something like <em>s_gender</em> and <em>d_gender</em></li>
</ul></li>
</ul></li>
</ul></li>
<li>If the wording or response options for an item substantively change during the project, after you have collected data, make a rule for versioning
<ul>
<li>Ex: Add ‚Äúv#‚Äù on revised questions (Ex: revised <em>scale1</em> becomes <em>scale1_v2</em>)</li>
</ul></li>
<li>Other considerations
<ul>
<li>Some people like to include question ordering in the variable name
<ul>
<li>Ex: <em>q1_gender</em>, <em>q2_race</em></li>
</ul></li>
<li>Some people like to include an indication of the measure in the variable name
<ul>
<li>Ex: s = student self-report and t=teacher rating of student
<ul>
<li>Then variables might be <em>s_basc3</em> or <em>t_toca4</em></li>
</ul></li>
</ul></li>
<li>As mentioned earlier, if your data is longitudinal, consider time in your variable naming conventions as well. If you are merging data in a wide format, there are several ways to add time. Just be consistent and make note of your naming conventions in your documentation. Possible conventions:
<ul>
<li><em>scale_sum_t1</em> (for time 1‚Äì<em>ex: data collection round 1, fall</em>)</li>
<li><em>t2_scale_sum</em> (for time 2‚Äì<em>ex: data collection round 2, winter</em>)</li>
<li><em>s1_scale_sum</em> (for student survey, time 1)</li>
<li><em>y1_t1_scale_sum</em> (for year 1‚Äì<em>ex: 2018</em>, time 1)
<ul>
<li>You may have multiple indicators of time. For example if a cohort or individual is in the study for multiple years, you might have a standalone <em>cohort</em> variable, and then you may add year and time as a prefix to your variables.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<p>Additional reading on variable naming:</p>
<p>üìë <a href="https://www.poverty-action.org/sites/default/files/publications/IPA-Best-Practices-for-Data-and-Code-Management-Nov-2015.pdf">IPA: Best Practices</a><br />
üìë <a href="http://adv-r.had.co.nz/Style.html">Advanced R</a><br />
üìë <a href="http://kbroman.org/dataorg/pages/names.html">Karl Broman</a></p>
<div class="question">
<p><strong>Quick thought: Add variable naming to documentation</strong></p>
<p>While it‚Äôs great to have a style guide, you will need to have a specific variable naming protocol for each project. And that protocol will need to go into your final documentation so that others know how to understand what your variables mean.</p>
<p><em>Example: All variable names will be made up of the following 4 components</em>:<br />
1. measure (s=student survey, t=teacher survey, o=teacher observation)<br />
2. time period (1=fall, 2=winter, 3=spring)<br />
3. variable/scale name<br />
4. variable/scale #<br />
Sample: <em>s2toca4</em> = student survey-winter-toca scale-item4</p>
</div>
<p><br></p>
</div>
</div>
<div id="value-coding" class="section level2">
<h2>Value Coding</h2>
<p>Similar to variable naming, variable value protocol also needs to be documented early on. Here are some conventions to follow:</p>
<ul>
<li>Keep values consistent across the project. Examples:
<ul>
<li><strong>Do</strong>: Always use 1=yes; 0=no
<ul>
<li><strong>Don‚Äôt</strong>: For some variables use 2=yes; 1=no, for other variables 1=yes; 0=no</li>
</ul></li>
<li><strong>Do</strong>: Always use m=male, f=female, n=non-binary
<ul>
<li><strong>Don‚Äôt</strong>: Switch between ‚ÄòM‚Äô, ‚Äòm‚Äô, and ‚Äòmale‚Äô to denote male</li>
</ul></li>
</ul></li>
<li>Make sure Likert-type scale response option ordering makes sense. Example:
<ul>
<li><strong>Do</strong>: Strongly Disagree = 1; Disagree = 2; Agree =3; Strongly Agree = 4
<ul>
<li><strong>Don‚Äôt</strong>: Strongly Disagree = 1; Strongly Agree = 2; Disagree = 3; Agree = 4</li>
</ul></li>
</ul></li>
<li>Define missing values
<ul>
<li>I am personally okay with leaving missing values as NA or NULL</li>
<li>However, you may care about the reason for missing data and need to consider defining missing values based on their properties</li>
<li>The key is to use extreme values that do not actually occur in your data and to also not use character values in a numeric field</li>
</ul></li>
</ul>
<p>Example of missing codes used by <a href="https://nces.ed.gov/pubs2015/2015074.pdf">NCES</a>:</p>
<p><img src="img/missing.PNG" width="80%" style="display: block; margin: auto;" /></p>
<p>Additional reading on value coding:</p>
<p>üìë <a href="https://figshare.com/articles/Data_Management_and_Data_Management_Plans/7890827">Jessica Logan, Ph.D.</a><br />
üìë <a href="https://old.dataone.org/best-practices/define-parameters">Data One</a><br />
üìë <a href="https://kbroman.org/dataorg/pages/consistency.html">Karl Broman</a></p>
<hr />
</div>
<div id="data-collection" class="section level2">
<h2>Data Collection</h2>
<hr />
<p>When it comes to the intersection of data management and data collection, there is a lot to consider. If at all possible, take some planning time to create data collection instruments and procedures that keep your data secure, valid, minimize errors, and relieve future data cleaning headaches.</p>
<div id="electronic-data" class="section level3">
<h3>Electronic Data</h3>
<p>Research teams may be restricted in how they collect their data due to limited resources, research design, or even the population being studied. However, if at all possible, I highly recommend collecting data electronically rather than manually. The reasons are:</p>
<ul>
<li>Forms are easier to maintain/update</li>
<li>More efficient than manually entering or manually scoring data (including TeleForm)</li>
<li>It reduces errors in both data collection as well as data entry/scoring</li>
<li>Can reduce missing data</li>
<li>Quick turnaround of clean data</li>
<li>Removes the need to physically store paper data</li>
</ul>
<p>I will say one downside we have come across is, if your electronic data requires internet connection, this can cause issues when there is either no or poor service in your data collection area.</p>
<p>Data that can be collected using technology includes things such as:</p>
<ul>
<li>Electronically collected consents/assents vs paper forms</li>
<li>Surveys using an online platform or mobile app as opposed to paper</li>
<li>Electronically administered assessments as opposed to manually given assessments</li>
<li>Observation data collected on a tablet rather than paper</li>
</ul>
<p>And obviously, some data is collected/accessed digitally automatically:</p>
<ul>
<li>User analytics data</li>
<li>Publicly available data (such as your state Dept of Education)</li>
</ul>
<p>Not all data is better collected digitally verses manually. For instance, using software to translate your interview data rather than transcribing by hand has its pros (efficiency) and cons (mistranslations that need to be fixed). As always, do what makes the most sense for your project and whatever is approved by your Institutional Review Board.</p>
<p>Last, I don‚Äôt want to endorse any particular survey platform or assessment company for data collection. However, when choosing tools to use, you should a) make sure the system meets the needs of your project (ex: the assessment measures what you intend to measure) and b) to ensure security of your data, use software that is vetted and approved by your institution.</p>
</div>
<div id="manually-collected-data" class="section level3">
<h3>Manually collected data</h3>
<hr />
</div>
</div>
<div id="tracking" class="section level2">
<h2>Tracking</h2>
<hr />
<hr />
</div>
<div id="directory-structure" class="section level2">
<h2>Directory Structure</h2>
<hr />
<pre><code>##                   levelName
## 1  project                 
## 2   ¬¶--documentation       
## 3   ¬¶--measures            
## 4   ¬¶   ¬¶--student_measures
## 5   ¬¶   ¬∞--teacher_measures
## 6   ¬∞--data                
## 7       ¬∞--cohort          
## 8           ¬∞--time        
## 9               ¬¶--raw     
## 10              ¬¶--syntax  
## 11              ¬∞--clean</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
