<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Data Cleaning Plan</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="css/custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">MPSI Data Training</a>
</li>
<li>
  <a href="training_00.html">Data Management</a>
</li>
<li>
  <a href="training_0.html">Project Management</a>
</li>
<li>
  <a href="training_1.html">Module 1</a>
</li>
<li>
  <a href="training_2.html">Module 2</a>
</li>
<li>
  <a href="training_3.html">Module 3</a>
</li>
<li>
  <a href="training_4.html">Module 4</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Data Cleaning Plan</h1>

</div>


<p><br></p>
<div class="presentation">
<p><br> You can view slides from this talk: in progress</p>
</div>
<hr />
<div id="overview" class="section level2">
<h2>Overview</h2>
<hr />
<p>Data cleaning or data wrangling is the process of organizing and transforming raw data into a dataset that can be easily accessed and analyzed. A data cleaning plan is a written proposal outlining how you plan to transform your raw data into the clean, usable data. This is different than a code file or even a pseudocode file in that there is no code or syntax in a data cleaning plan. It is just a plain text explanation of the transformations and checks you intend to implement on a raw data file. It can be saved in any format that works for you (text, markdown, etc.). You can even write it in a code file (ex: .R) through comments if you wish, and I often do, as long as reading your comments is not code or technical skills dependent. Anyone from a project coordinator to a programmer should be able to read and understand this file and provide feedback if needed. This plan is started prior to data cleaning, however, similar to every other piece of documentation, this is also a living document that will be updated as you obtain more knowledge.</p>
<p>An example of a <strong>very</strong> simplified cleaning plan:</p>
<p><em>Data cleaning plan for project-a student survey</em></p>
<ol style="list-style-type: decimal">
<li>Import raw data</li>
<li>Check structure (# of rows and cols)
<ul>
<li>Check rows for duplicate participants or non-consented participants who need to be removed
<ul>
<li>Compare against a roster (participant tracking)</li>
</ul></li>
<li>Check columns against data dictionary
<ul>
<li>Any additional variables not in data dictionary?</li>
<li>Missing any variables?</li>
</ul></li>
</ul></li>
<li>Check variable classes
<ul>
<li>Update classes as needed</li>
</ul></li>
<li>Rename variables according to data dictionary</li>
<li>Recategorize open-ended variables d and f</li>
<li>Reverse coded variable a, b, c
<ul>
<li>Name new variables according to data dictionary</li>
<li>Check reverse scoring</li>
</ul></li>
<li>Create sum and mean scores x, y, and z
<ul>
<li>Name new variables according to data dictionary</li>
</ul></li>
<li>Add variable labels and value codes for all variables</li>
<li>Run validation to check ranges of all variables</li>
<li>Export clean data file</li>
</ol>
<hr />
</div>
<div id="foundation" class="section level2">
<h2>Foundation</h2>
<hr />
<p>In order to start a data cleaning plan, you need to have the following:</p>
<ol style="list-style-type: decimal">
<li>Data literacy</li>
<li>Domain knowledge</li>
<li>Software knowledge</li>
<li>Consultation with stakeholders</li>
</ol>
<div id="data-literacy" class="section level3">
<h3>Data literacy</h3>
<p>Data cleaning requires a solid foundation around <a href="https://en.wikipedia.org/wiki/Data_literacy">data literacy</a>, the ability to create, interpret, and communicate data as information. Without data literacy it is difficult to visualize how to transform the raw data you have into the format that you need to answer your questions.</p>
<p>While we hope data literacy and good data management permeates every step of the data lifecycle, including data collection, neat data is rarely handed to you, and oftentimes you are taking a file that is mostly unusable and converting it to something useful.</p>
<p>Here are ways to build data literacy, adapted from <a href="https://venngage.com/blog/data-literacy/">Venngage</a>:</p>
<ol style="list-style-type: decimal">
<li>Recognize that data errors are inevitable. Despite your best efforts to collect clean data, issues such as duplicate records, illegal values, or missing data still occur (<a href="https://files.eric.ed.gov/fulltext/ED583982.pdf">Hubbard, 2017</a>).</li>
<li>Know the types of data you are working with (quantitative, qualitative)</li>
<li>Understand the source of where your data comes from (primary data sources, secondary data sources) and also how data is created (aggregation, calculations, etc.)</li>
<li>Keep your data organized (understand data structure)</li>
<li>Know how to look for patterns and outliers in data, and be aware of your own biases.</li>
<li>Use Exploratory Data Analysis (EDA) to validate data</li>
<li>The more data you work with, the more you learn</li>
</ol>
<p>📑 Additional <a href="https://hbr.org/2020/02/boost-your-teams-data-literacy">resource</a> on boosting data literacy</p>
</div>
<div id="domain-knowledge" class="section level3">
<h3>Domain knowledge</h3>
<p>A lot of data literacy also relies on domain knowledge or <a href="https://counting.substack.com/p/whys-it-hard-to-teach-data-cleaning">ghost knowledge</a>, information you only learn from being immersed in a field. Examples of domain knowledge I have acquired from being in the field of education research include:</p>
<ul>
<li><p>If researchers tell me they are analyzing longitudinal data, I know I need to account for time in the data in some way (ex: add a time variable). If researchers are clustering data, I know I need to account for that cluster in the data in some way (ex: add a cohort variable). I know if we have multiple forms or forms across time, we have to link our data and I need to add a unique study id to link data.</p></li>
<li><p>There are school districts we work with that send us student level discipline data (ex: number of OSS or ISS referrals). They do not have codebooks or data dictionaries for these data. However, I know from working with these districts and having conversations with them, that if there are no referrals for a student, they leave a cell blank (rather than enter a zero). If I did not have this domain knowledge, I would assume the information is simply missing.</p></li>
<li><p>Similarly, I know from working with certain districts as well as state education agencies and having conversations with them, that how test scores are collected or scored have changed across years. Again, most of these agencies don’t usually have codebooks or data dictionaries but I have learned this through conversations and by noticing differences in score ranges over time.</p></li>
<li><p>Again, from working with districts and states, I know to prepare for inconsistencies in data. I’ve seen variable names change over time. I’ve also seen the variables collected change over time. And sometimes, across time, variables with the exact same name are no longer measuring the same thing (another reason why documentation is so important).</p></li>
</ul>
</div>
<div id="software-knowledge" class="section level3">
<h3>Software knowledge</h3>
<p>I know what you may be thinking here. Earlier I said that the interpretation of a data cleaning plan should not require any technical knowledge. This is still true. However, the person who writes the data cleaning plan still needs to have a basic understanding of the software that is used to collect the data and any software that will be used to clean or analyze the data. This knowledge will inform the steps you add to a data cleaning plan.</p>
<p>Become familiar with the following:</p>
<ol style="list-style-type: decimal">
<li>The tools used to collect data
<ul>
<li>Is the data hand entered from paper forms?
<ul>
<li>How is the data entered/exported? File type?</li>
<li>What funky formatting things does that software do?
<ul>
<li>Excel loves to <a href="https://www.theverge.com/2020/8/6/21355674/human-genes-rename-microsoft-excel-misreading-dates">autocorrect</a> numeric or character values to dates for example</li>
</ul></li>
</ul></li>
<li>Is it online software?
<ul>
<li>If yes, is the data exported? What file type is exported?<br />
</li>
<li>Can you connect to the data through other means (ex: API)?<br />
</li>
<li>How are values coded (numeric or words)?<br />
</li>
<li>How are missing values coded?<br />
</li>
<li>What are the additional variables this software adds to an export file that we don’t need for our clean data?<br />
</li>
<li>How are “select all” questions exported?
<ul>
<li>For example I know when Qualtrics collects data from a “select all” question
<ol style="list-style-type: lower-alpha">
<li>the data will export in multiple columns like the question below where we asked, “Which tools do you use for remote teaching?”</li>
<li>Yes will be coded as 1 and No will be exported as NAs</li>
</ol></li>
</ul></li>
<li>Extract sample data to get a feel for all of this!</li>
</ul></li>
</ul></li>
</ol>
<div id="ycdumcfjnk" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ycdumcfjnk .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ycdumcfjnk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycdumcfjnk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ycdumcfjnk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ycdumcfjnk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycdumcfjnk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycdumcfjnk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ycdumcfjnk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ycdumcfjnk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ycdumcfjnk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ycdumcfjnk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ycdumcfjnk .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ycdumcfjnk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ycdumcfjnk .gt_from_md > :first-child {
  margin-top: 0;
}

#ycdumcfjnk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ycdumcfjnk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ycdumcfjnk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ycdumcfjnk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycdumcfjnk .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ycdumcfjnk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycdumcfjnk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ycdumcfjnk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ycdumcfjnk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycdumcfjnk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycdumcfjnk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ycdumcfjnk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycdumcfjnk .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ycdumcfjnk .gt_left {
  text-align: left;
}

#ycdumcfjnk .gt_center {
  text-align: center;
}

#ycdumcfjnk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ycdumcfjnk .gt_font_normal {
  font-weight: normal;
}

#ycdumcfjnk .gt_font_bold {
  font-weight: bold;
}

#ycdumcfjnk .gt_font_italic {
  font-style: italic;
}

#ycdumcfjnk .gt_super {
  font-size: 65%;
}

#ycdumcfjnk .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Q1_1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Q1_2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Q1_3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Q1_4</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td></tr>
    <tr><td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">NA</td></tr>
    <tr><td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">NA</td></tr>
  </tbody>
  
  
</table>
</div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>What software are we using to clean the data?
<ul>
<li>Is the software case sensitive?</li>
<li>Does it have variable name character limits?</li>
<li>Does it have other limitations on variable names (can’t start with a number)?</li>
</ul></li>
<li>What software do stakeholders plan to use to analyze the data? We may not always know this, but if we do, we can try to accommodate this
<ul>
<li>Is there a certain file type required for data import?
<ul>
<li>For example, <a href="https://stats.idre.ucla.edu/mplus/seminars/mplus-class-notes/entering/">Mplus</a> can only read ASCII text files</li>
</ul></li>
<li>What missing values are allowed
<ul>
<li>Again with <a href="https://tutorials.methodsconsultants.com/posts/preparing-data-for-mplus/">Mplus</a>, it doesn’t allow blanks in a data file so all missing values need to be replaced with an actual value (ex: -99)</li>
</ul></li>
<li>With all this said, don’t just tailor your output clean file to a particular user. Depending on a users needs, you may export two clean files, one for that user and another general clean analysis file in a file type that will be accessible to anyone and is best for long term preservation. While we will talk more about this in later trainings around data sharing, <a href="https://dmptool.org/general_guidance#file-formats">non-proprietary data formats</a> such as csv or txt are best.</li>
</ul></li>
</ol>
</div>
<div id="consultation-with-stakeholders" class="section level3">
<h3>Consultation with stakeholders</h3>
<p>While everything above is absolutely imperative to the data cleaning process, this may actual be the most important step in developing a data cleaning plan. If you don’t know a) how your data is collected, and b) how researchers plan to analyze the data, then you have no roadmap for data cleaning. This is where you learn things such as:</p>
<ol style="list-style-type: decimal">
<li>The types of data you will be receiving (survey, observation, assessment)</li>
<li>What format it will be in (csv, xlsx, spss)</li>
<li>How reliable is the data (will it be hand entered, is it collected by your team, is it coming from an outside source)?</li>
<li>What is the timeline? When should the data team expect to receive data? You can document this in a data cleaning timeline/data accounting spreadsheet.</li>
<li>How do researchers intend to use the data?</li>
<li>Do researchers want their final data in long or wide form?</li>
<li>Do they need missing data coded in any specific way?</li>
<li>What file format do they need?</li>
<li>Any additional calculations or transformations that need to be done in the data?</li>
<li>Any other secondary data sources they want brought in to enhance the data?</li>
<li>What is the timeline for when researchers need clean data? You can document this in a data cleaning timeline/data accounting spreadsheet.</li>
</ol>
<p><img src="img/data-accounting.PNG" width="75%" style="display: block; margin: auto;" /></p>
<p>Source: <a href="https://files.eric.ed.gov/fulltext/ED583982.pdf">Data accounting spreadsheet</a> from Aleata Hubbard</p>
<p>This initial meeting with stakeholders, prior to data collection or even prior to building data collection tools, is a great time to start your documentation. This should not just be one initial meeting though. While the PIs may only need to be brought in at the beginning, a data manager should meet with the coordinators more frequently to monitor changes to the data collection instruments, any new measures added, changes in data collection protocol, or any unanticipated hiccups. Any updates should be documented in things such as protocols, codebooks, data dictionaries, or a data cleaning timeline. After data is cleaned, data teams should consider having data reviews with project coordinators to cover what data issues were encountered and what could the team have done better.</p>
<hr />
</div>
</div>
<div id="data-structure" class="section level2">
<h2>Data structure</h2>
<hr />
<p>Before we can start writing our data cleaning plan, we need to understand what structure we need our data to be in for analysis.</p>
<p>In the world of quantitative education research, we are most likely trying to create rectangular datasets (rows and columns) that are machine readable, rather than having data in text files (ex:pdf), video recordings, xml, etc. Even in qualitative research, we are often wrangling data to be in a format that is analyzable and allows categorization.</p>
<p>The two ways data will need to be structured for the field of education are wide or long. The simplest way to think about wide is that all data collected on a unique participant will be in one row. The easiest scenario to see this is with repeated measure data. If we collect a survey on participants in wave 1 and 2, those waves of data will all be in the same row (merged/joined together on a unique ID) and each wave of data collection will be appended to a variable name to create unique variable names.</p>
<div id="sfmidfvmuu" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#sfmidfvmuu .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sfmidfvmuu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sfmidfvmuu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sfmidfvmuu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sfmidfvmuu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sfmidfvmuu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sfmidfvmuu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sfmidfvmuu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sfmidfvmuu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sfmidfvmuu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sfmidfvmuu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sfmidfvmuu .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#sfmidfvmuu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sfmidfvmuu .gt_from_md > :first-child {
  margin-top: 0;
}

#sfmidfvmuu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sfmidfvmuu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sfmidfvmuu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#sfmidfvmuu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sfmidfvmuu .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#sfmidfvmuu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sfmidfvmuu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sfmidfvmuu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sfmidfvmuu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sfmidfvmuu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sfmidfvmuu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#sfmidfvmuu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sfmidfvmuu .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#sfmidfvmuu .gt_left {
  text-align: left;
}

#sfmidfvmuu .gt_center {
  text-align: center;
}

#sfmidfvmuu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sfmidfvmuu .gt_font_normal {
  font-weight: normal;
}

#sfmidfvmuu .gt_font_bold {
  font-weight: bold;
}

#sfmidfvmuu .gt_font_italic {
  font-style: italic;
}

#sfmidfvmuu .gt_super {
  font-size: 65%;
}

#sfmidfvmuu .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">stu_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">w1_stress1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">w1_stress2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">w2_stress1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">w2_stress2</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">56987</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_right">54882</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right">55574</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
<p><br></p>
<p>In long data, a participant can repeat in your dataset. Again, the most straight forward way to think about this is with repeated measure data, where each row will be a new time point for a participant. This is often called appending data. In this scenario, we no longer need to append the data collection wave to variable names. However, we would need to add a time period variable to denote the wave associated with each row of data.</p>
<div id="pzsujcljhb" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#pzsujcljhb .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pzsujcljhb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzsujcljhb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pzsujcljhb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pzsujcljhb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzsujcljhb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzsujcljhb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pzsujcljhb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pzsujcljhb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pzsujcljhb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pzsujcljhb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pzsujcljhb .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#pzsujcljhb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pzsujcljhb .gt_from_md > :first-child {
  margin-top: 0;
}

#pzsujcljhb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pzsujcljhb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pzsujcljhb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#pzsujcljhb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzsujcljhb .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#pzsujcljhb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzsujcljhb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pzsujcljhb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pzsujcljhb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzsujcljhb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzsujcljhb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#pzsujcljhb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzsujcljhb .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#pzsujcljhb .gt_left {
  text-align: left;
}

#pzsujcljhb .gt_center {
  text-align: center;
}

#pzsujcljhb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pzsujcljhb .gt_font_normal {
  font-weight: normal;
}

#pzsujcljhb .gt_font_bold {
  font-weight: bold;
}

#pzsujcljhb .gt_font_italic {
  font-style: italic;
}

#pzsujcljhb .gt_super {
  font-size: 65%;
}

#pzsujcljhb .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">stu_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">wave</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">stress1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">stress2</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">56987</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">3</td>
<td class="gt_row gt_right">4</td></tr>
    <tr><td class="gt_row gt_right">56987</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">3</td></tr>
    <tr><td class="gt_row gt_right">54882</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right">54882</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td></tr>
    <tr><td class="gt_row gt_right">55574</td>
<td class="gt_row gt_right">1</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">1</td></tr>
    <tr><td class="gt_row gt_right">55574</td>
<td class="gt_row gt_right">2</td>
<td class="gt_row gt_right">4</td>
<td class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
<p><br></p>
<p>There are different reasons for constructing your data one way or another. For example, repeated measure procedures typically require data to be in wide format, where the unit of analysis is the subject. While mixed model procedures typically required data to be in long format, where the unit of analysis is each measurement for the subject.</p>
<p>The thing is, it is <strong>very</strong> easy to restructure data from one way to another. So my opinion is, the easiest way to manage data is to:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Don’t merge data until you have to. It is much simpler, in terms of data management and syntax writing, to keep variable names consistent over time.</p></li>
<li><p>Don’t append any time periods to variable names or add a time variable to your data until you have to (this can all be added very easily in your syntax). You will know what time period is associated with the data file based on the file name and storage location.</p></li>
</ol>
<p>Once someone requests data or you need it for your own purposes, then you can add a time variable or append time to variable names as needed, and merge or append data across time. Just make sure to ask the requester what format they want their data in.</p>
<p>📑 The Analysis Factor has a great <a href="https://www.theanalysisfactor.com/wide-and-long-data/">blog post</a> on things to consider when choosing between long and wide format.</p>
<p><br></p>
<div id="merging-across-forms" class="section level3">
<h3>Merging across forms</h3>
<p>Most of what I mentioned above refers to how to structure data over time. However, we also need to discuss how to merge disparate data sources within time. Most likely you will be collecting more than one piece of data from participants. You may have a survey and an assessment for instance. Within time, those forms will always be merged in wide format. You will link a participant’s survey data to their assessment data through the unique identifier you’ve give the participants and attached to each form.</p>
<p><br></p>
</div>
<div id="tidy-data" class="section level3">
<h3>Tidy data</h3>
<p>I of course, cannot pass over the topic of tidy data here. The term is ubiquitous in the world of data and since I plan to use R for data wrangling in later modules, tidy data needs to be covered. Tidy data, defined by <a href="https://www.jstatsoft.org/article/view/v059i10">Hadley Wickham</a>, meets very specific conditions which are:</p>
<ol style="list-style-type: decimal">
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ol>
<p>Essentially, tidy data are long format data.</p>
<table>
<thead>
<tr class="header">
<th align="center">Not tidy data</th>
<th align="center">Tidy data</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/not-tidy-data2.PNG" /></td>
<td align="center"><img src="img/tidy-data2.PNG" /></td>
</tr>
</tbody>
</table>
<p>I think in education research, tidy data definitely has a time and place (for example in creating visualizations/graphs, and some analyses). And as I mentioned earlier, this is the most clean way to store your data since variable names aren’t repeating and changing based on things like time periods. However, I think what is most important is organizing your data in the rectangular format (rows and columns) that is necessary for your analysis. I also think it is important to follow some of the other guidelines set forth by Hadley Wickham, and also by Karl Broman and Kara Woo in their paper <a href="https://kbroman.org/dataorg/">Data Organization in Spreadsheets</a>.</p>
<p>Important guidelines to follow:</p>
<ol style="list-style-type: decimal">
<li>Put just one thing in a cell
<ul>
<li>Ex: If a rate column contains two numbers, cases/enrollment</li>
<li>Split that column into two columns (cases and enrollment)</li>
</ul></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">Two things one cell</th>
<th align="center">Two things two cells</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/two-in-one.PNG" /></td>
<td align="center"><img src="img/two-in-two.PNG" /></td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li>Make your data a rectangle
<ul>
<li>The first row of your data should be variable names (only one row for this)</li>
<li>The remaining data should be rows and columns that correspond to subjects and variables</li>
</ul></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">Not rectangle</th>
<th align="center">Rectangle</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/not-rectangle.PNG" /></td>
<td align="center"><img src="img/rectangle.PNG" /></td>
</tr>
</tbody>
</table>
<p>Just be prepared because while you may put in the planning to collect organized data, many of the secondary datasets you use may not be organized in a nice rectangle for you. But don’t worry! You can transform the dataset on the left into the one on the right with a little patience, planning, and code. You can find more examples of non-rectangular data from Karl Broman <a href="https://kbroman.org/dataorg/pages/rectangle.html">here</a>.</p>
<ol start="3" style="list-style-type: decimal">
<li>Don’t use font color or highlighting as data
<ul>
<li>If you want to flag data as suspicious, add a variable to indicate that</li>
</ul></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">Highlight</th>
<th align="center">No highlight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/highlight.PNG" /></td>
<td align="center"><img src="img/no-highlight.PNG" /></td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li>Don’t leave empty cells
<ul>
<li>If a cell is actually missing data, make sure it contains something to denote the absence of data (ex: NA) to show that the cell was not left blank unintentionally</li>
<li>If a cell is empty because it is “implied” to be the same value as above, fill that cell with the actual data</li>
</ul></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="center">Empty</th>
<th align="center">Not empty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><img src="img/empty.PNG" /></td>
<td align="center"><img src="img/not-empty.PNG" /></td>
</tr>
</tbody>
</table>
<p>Resources:</p>
<p>📑 <a href="https://kbroman.org/dataorg/">Karl Broman</a><br />
📑 <a href="https://r4ds.had.co.nz/tidy-data.html">R for Data Science</a><br />
📑 <a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1890/0012-9623-90.2.205">Tidy Data</a></p>
<p><br></p>
</div>
<div id="final-datasets" class="section level3">
<h3>Final datasets</h3>
<p>In the end, what you will most likely want is one dataset per participant entity (school dataset, teacher dataset, student dataset). And if you plan to link these together, you will need to make sure you are able to do that through your ID schema.</p>
<p><img src="img/id_schema.PNG" width="75%" style="display: block; margin: auto;" /></p>
<hr />
</div>
</div>
<div id="data-cleaning-steps" class="section level2">
<h2>Data cleaning steps</h2>
<hr />
<p>Our role as data managers is not to think of every possible iteration of how an analyst/researcher may want their data or every variable they may need. However, it is our role to reduce the amount of work required to get that data into an analyzable format. <a href="https://towardsdatascience.com/the-ultimate-guide-to-data-cleaning-3969843991d4">Omar Elgarby</a> wrote that “Quality data beats fancy algorithms”.</p>
<p>Clean data should be:</p>
<ul>
<li>Valid<br />
</li>
<li>Accurate<br />
</li>
<li>Complete<br />
</li>
<li>Consistent<br />
</li>
<li>Uniform</li>
</ul>
<p>Below I lay out some of the go-to steps I like to add to a data cleaning plan and the reasoning behind why I think they are important.</p>
<div id="global-rules" class="section level3">
<h3>Global rules</h3>
<p>First, some global rules:</p>
<p><strong>First rule</strong>: Never make edits to the raw data. You never know when you will make an error and need to return to the the original, uncorrected data file.</p>
<p>Resources:</p>
<p>📑 <a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1890/0012-9623-90.2.205">Effective Data Management</a><br />
📑 <a href="https://docs.google.com/document/d/1u8o5jnWk0Iqp_J06PTu5NjBfVsdoPbBhstht6W0fFp0/edit#heading=h.xmrpyhv1y68j">Psych Technical Specification</a><br />
<a href="https://docs.google.com/document/d/1GfIo67-wqq-26ZG9etar5tiKKYLLqWCra8jySolAK7Y/edit"></a></p>
<p><strong>Second rule</strong>: Keep everything (except variables that are identifying and completely unnecessary for project). Keep both item level and aggregated variables, recoded and original variables. Again, you never know which variables someone may need for their analysis.</p>
<p><strong>Third rule</strong>: Always de-identify the clean/analysis data. First, ensure your study ID is in the data and is accurate, then remove all PII (name, SSN, email, DOB, school name, parent name, IP address, etc.).</p>
<p><img src="img/analysis_dataset.PNG" width="90%" style="display: block; margin: auto;" /></p>
<p>Source: <a href="https://www.povertyactionlab.org/sites/default/files/Data_Security_Procedures_December.pdf">J-PAL</a></p>
</div>
<div id="data-cleaning-steps-1" class="section level3">
<h3>Data cleaning steps</h3>
<p>While this is not a comprehensive list of every possible data cleaning step you will need for your unique dataset and the questions your stakeholders need to answer, these are common steps that typically apply to all data in some way. You may need more or less steps depending on your data. Also, while these steps are presented in a logical order, they do not all need to happen in this order.</p>
<ol style="list-style-type: decimal">
<li>Read raw data into a statistical program (ex: R, Stata, etc.)
<ul>
<li>Your data may be one file from a folder on your computer, or multiple files, or you may be calling data from an API</li>
<li>You will do all of your data cleaning for your file/s in a statistical program, never touching the raw data</li>
</ul></li>
<li>Review your data
<ul>
<li>Rows, columns, values, missing data</li>
<li>Check your number of cases against your participant tracking</li>
<li>Check your columns against your data dictionary</li>
</ul></li>
<li>Remove any duplicate cases, cases who are not consented in your study
<ul>
<li>Check your protocol for removing duplicate responses</li>
<li>If you are missing cases that are tracked as complete, work with the project coordinator to locate that data</li>
</ul></li>
<li>If you are supposed to de-identify data and your data does not already contain a study ID, read in a roster from your participant tracking and join your roster with your data</li>
<li>Drop all unimportant columns (not in data dictionary) and any identifying columns (name, email, etc.)</li>
<li>Split columns as needed
<ul>
<li>Remember the rule, “Put just one things in a cell”
<ul>
<li>If a column allowed people to indicate multiple responses, those responses may need to be split out into multiple columns or rows</li>
</ul></li>
</ul></li>
<li>Rename columns to match your data dictionary</li>
<li>Check variable classes/type and update as needed
<ul>
<li>Convert string to numeric for example</li>
</ul></li>
<li>Transform/Normalize variables
<ul>
<li>Remove symbols from columns such as % or $</li>
<li>Remove white space from strings</li>
</ul></li>
<li>Standardize
<ul>
<li>Make sure all of your variables are measured the same way within your dataset and the same way across time</li>
<li>Rescale variables</li>
<li>Collapse open ended variables into categorical variables
<ul>
<li>Ex: school a, SchoolA, school b, School B –&gt; School A, School B</li>
</ul></li>
</ul></li>
<li>Recode variables
<ul>
<li>If you know all missing values in a column are actual not missing and should be zero, recode NA to 0</li>
<li>Reverse code likert scale variables</li>
</ul></li>
<li>Construct variables laid out in the data dictionary
<ul>
<li>Create sum and mean scores</li>
<li>Create standardized scores</li>
<li>Collapse existing variable/s into a new variable</li>
<li>Add variables such as cohort or treatment</li>
</ul></li>
<li>Add missing data values as needed
<ul>
<li>Add your missing value schema (-99 = skipped, -98 = not applicable, etc.)</li>
</ul></li>
<li>Validate data
<ul>
<li>Adding <a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1890/0012-9623-90.2.205">flags</a> can be helpful (columns that identify issues in a row)
<ul>
<li>Flags for completed or partially completed measure (0 = complete, 1 = partial)</li>
<li>Flag rows with issues (1 = issues, 0 = no issue)</li>
</ul></li>
<li>You can also create reports (ex: markdown documents) that report issues in the dataset</li>
<li>Things to check for in your validation process
<ul>
<li>Values out of range
<ul>
<li>Boundaries of var1 is 0-10 and you find a 15</li>
</ul></li>
<li>Cross validation for impossible values
<ul>
<li>age and grade level - a child age 8 says they are in grade 12</li>
<li>Is the gender in one file, different than the gender in another file?</li>
</ul></li>
<li>Do any columns have homogeneous values (that shouldn’t)
<ul>
<li>The variable cohort may contain all 1s, but a sum score variable should not contain all 2.5s (there should be variation in that column)</li>
</ul></li>
<li>Do the study IDs we have all fall within the list of IDs we have for our study?
<ul>
<li>This is a chance to check that an ID wasn’t entered incorrectly</li>
</ul></li>
</ul></li>
</ul></li>
<li>Transform data (wide to long or long to wide)</li>
<li>Merge and/or append data as needed
<ul>
<li>Across time, forms, data sources</li>
<li>Again do validation checks, do you have the correct number of rows and columns after the merge?</li>
</ul></li>
<li>Add metadata
<ul>
<li>Variable labels and value labels</li>
</ul></li>
<li>Export clean data to a specified format (.csv, .tsv, .xlsx, .sav, etc.)
<ul>
<li>Again, review recommendations for best formats for <a href="(https://dmptool.org/general_guidance#file-formats)">long-term data storage</a></li>
</ul></li>
</ol>
<p><br></p>
<div class="question">
<p><strong>Quick thought: Anonymous data</strong></p>
<p>If you are collecting anonymous data, some of the steps above will not apply to you:<br />
1. You <strong>will not</strong> merge in a participant study ID except maybe at the highest level of data collection (ex: your cluster level, such as school or district ID).<br />
2. You <strong>will not</strong> be able to drop duplicate cases (you won’t know if you have duplicates in your data because you will have no row level identifying information).</p>
<p>You <strong>will</strong> still however, need to de-identify data if you collected anything identifying such as school name or IP address.</p>
<p>You will also be limited in your data transformations:<br />
1. You <strong>will not</strong> be able to merge disaggregated data in wide format across time or forms because you will have no linking participant ID. You <strong>can only</strong> append data in long form because in long data, rows are stacked on top of each other and aligned based on variable names (no unique participant ID is needed).<br />
2. You <strong>can</strong> merge data across time or forms in wide format if you aggregate and join your data to a level that you collected such as school or district.</p>
</div>
<p><br></p>
<p>Resources:</p>
<p>📑 Aleata Hubbard has a <a href="http://evalu-ate.org/blog/hubbard-sep2016/">blog post</a> on six data cleaning checks<br />
📑 Jeff Leek also has a great <a href="https://simplystatistics.org/2019/05/29/research-quality-data-and-research-quality-databases/">blog post</a> on creating research quality datasets.<br />
📑 <a href="https://cran.r-project.org/doc/contrib/de_Jonge+van_der_Loo-Introduction_to_data_cleaning_with_R.pdf">An Introduction to data cleaning with R</a><br />
📑 <a href="https://figshare.com/articles/preprint/The_Basics_of_Data_Management/13215350/1">The Basics of Data Management</a></p>
<hr />
</div>
</div>
<div id="reproducible-syntax" class="section level2">
<h2>Reproducible Syntax</h2>
<hr />
<p>Over the years I have seen researchers manually clean data in programs like Excel and in every scenario I can think of, it’s a bad idea because a) it is not reproducible, b) it leads to errors, and c) it is time consuming. My recommendation is to clean your data, no matter how small the task, with syntax (machine readable programming instructions written in a text editor that are processed by your computer). Even if you use a graphical user interface (GUI) program like SPSS (point and click), you need to log every move you make in that program and paste the code into a syntax file. Syntax files allow you to have a record of every transformation you make from the raw data to your clean data. While writing syntax may seem time consuming up front, it helps you to be more thoughtful in your data cleaning process and it can save you an enormous amount of time in the future if you plan to clean data with the same features multiple times (in say a longitudinal study).</p>
<p>You can use whatever program you want to write syntax (<a href="https://openrefine.org/documentation.html">OpenRefine</a>, <a href="https://www.r-project.org/">R</a>, <a href="https://www.stata.com/">Stata</a>, <a href="https://www.ibm.com/products/spss-statistics">SPSS</a>, <a href="https://www.sas.com/en_us/curiosity.html?utm_source=other&amp;utm_medium=cpm&amp;utm_campaign=non-cbo-us&amp;dclid=&amp;gclid=Cj0KCQjw5JSLBhCxARIsAHgO2SffrjNAWQsn0f4F2czIb-P-daG2oVq1TC4DF6dEaxTB0Nl6MjE-BwAaAtQrEALw_wcB">SAS</a>, <a href="https://en.wikipedia.org/wiki/SQL">SQL</a>, etc.). If you review the trainings available through <a href="https://datacarpentry.org/lessons/">Data Carpentry</a> you’ll see that most of their data management workshops use SQL, OpenRefine, R, or Python (all open source).</p>
<p>If I haven’t sold you on using syntax yet, here are a few <strong>horror stories</strong> of manually cleaning data (based off of real life events):</p>
<p><strong>1.</strong> A collaborator is in charge of cleaning a portion of your project data, while you clean the other portion. At the end of a data collection wave, the collaborator sends you clean data. Yet when reviewing it you find three small errors in the data they send you.</p>
<ol style="list-style-type: lower-alpha">
<li>One variable had been named incorrectly<br />
</li>
<li>One sum variable had been calculated incorrectly<br />
</li>
<li>One variable was missing value labels</li>
</ol>
<p>These all seemed like quick changes you could make very easily in a point and click interface, so you did. Then you saved that dataset as the final clean dataset. However, a month later, your collaboator found an error in the data they sent you, and they send you a revised clean dataset.</p>
<p>This is the process you go through:</p>
<ul>
<li><p>You did <em>not</em> document the changes you made to the prior dataset (either via syntax or even in a README_versioning file). Therefore, you had to do your best to remember what changes you had made to see if you needed to make them again, potentially leaving errors in the data if you forgot a step.</p></li>
<li><p>After checking the data and discovering that the changes you had previously made to the data had still not been corrected in this new file, you had to make all the changes to the new data <strong>again</strong>. This time, you write all the updates in syntax! This allows you to document your changes, as well as saves you from having to re-do all of your point and click work again in the future if you ever received another updated file. You can just run your syntax in a matter of seconds.</p></li>
</ul>
<p><strong>2.</strong> You download two Excel files that need to be appended (they have the same variables). In an attempt to move quickly, you decide to append the files by cutting all the rows from one file and pasting them below the rows of the other file. You then save this data as your complete dataset. At a later point when you are running some descriptive summaries on the data, you notice ranges for some of your variables are incorrect. You go back to your two original files (luckily you saved both original files as “raw” data). You do some detective work and discover that the order of the columns in each file are not identical so when you pasted data from one file to the other, the values did not correctly align. To correct this, you write syntax where you bind the two raw data files using a function that matches files based on column names.</p>
<p><strong>3.</strong> A school district sends you a data file that you have requested. You <em>know</em> you only need this data for a one time report so you decide to start doing your manipulations in the raw data, by hand. You save this data, use it for your report, and then plan to never see it again. A year later, your coworker actually needs that data for another report. When that coworker starts digging around in the data, they find errors (values out of range and so forth). However, with no documentation of your changes, no syntax, and no raw data, there is no way to know how to fix the data. The data is rendered useless.</p>
<p>Resource:</p>
<p>📑 <a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1890/0012-9623-90.2.205">Effective Data Management</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
